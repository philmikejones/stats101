# Measures of spread

We saw in the measures of central tendency chapter that the mean can be a poor representation of data if the data is skewed, and that we should therefore be careful when someone presents us with a mean (or average) without any further information.

One of the types of 'further information' that can help us is a measure of spread of the data around the mean value.
We usually use the *variance* and the *standard deviation* to quantify measure of spread.
Both are easy to calculate, and even easier to convert between each other.


## Variance

Lets recap: this is what the income data looks like:

```{r income}
dat %>% 
  unlist() %>% 
  as.vector()
```

To calculate the variance:

1. subtract the mean from each score
1. square the result
1. sum the results to produce one value
1. divide by $n - 1$ (number of observations minus one)

$$
(\#eq:variance)
\frac{\Sigma (x - \bar{x}) ^ 2}{N-1}
$$

Using $n - 1$ rather than simply the number of observations is known as [Bessel's correction](https://en.wikipedia.org/wiki/Bessel%27s_correction).
To calculate the variance of the population we must assume that the population mean is the same as the sample mean that we have observed.
In fixing the population mean we reduce the degrees of freedom of our observations, because if we change these the final observation is determined in order for the mean to remain constant.

For example if our sample mean is 100 we assume our population mean is 100.
If we have two observations these might be 110 and 90 (mean 100).
If we change the 110 value to 120, the 90 value *must* change to 80 to ensure the sample mean (and therefore the population mean) remains 100, so there is only one degree of freedom.
We would therefore use $2 - 1$ as the denominator in our variance calculation.

```{r income-variance}
var(dat$income)
```


## Standard deviation

As you've probably noticed the variance is not in the units of the original data (otherwise the variance would be Â£`r var(dat$income)`).
This is where the standard deviation comes in.
In fact the unit of the variance is the *square* of the unit of the original data.
The standard deviation is therefore a measure of spread in the unit of the original data, and is calculated simply by square rooting the variance.

$$
(\#eq:standard-deviation)
\sqrt{\frac{\Sigma (x - \bar{x}) ^ 2}{N-1}}
$$

The standard deviation of the income is therefore:

```{r income-sd}
sd(dat$income)
```

The standard deviation is a measure of how far the data points are on average from the mean.
A small standard deviation means the mean fairly accurately represents the data; a large standard deviation means the mean does not represent the data well.


## Standard error

Standard error is effectively the standard deviation of the population mean.
The standard deviation quantifies how well the sample mean fits the observed (i.e. sample) data, not the population, but we're really interested in how well our sample mean represents the population.

Because any sample we take from the population is going to be slightly different from all other samples (because everything varies) each sample mean is going to be slightly different from every other.
The standard error of the mean is a measure of how confident our sample mean matches the population mean.

One approach to calculate the standard error of the mean would be to take multiple samples.
The mean of each of these samples would form a sampling distribution due to variation: some sample means would be lower than the population mean; some sample means would be higher than the population mean; and many would be the same.
These sample mean values would form a normal distribution around the population mean.

The standard deviation of these sample means would tell us how well our sample means fit the population mean.
This is known as the standard error of the mean ($SE_{\bar{x}}$).

In practice we can usually only take one sample so we can calculate it with:

$$
(\#eq:standard-error)
\sigma_{\bar{x}} = \frac{s}{\sqrt{n}}
$$

where $\sigma$ is the standard error of the population mean, $s$ is the sample standard deviation, and $n$ is the number of observations in the sample.
